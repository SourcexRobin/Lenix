; Listing generated by Microsoft (R) Optimizing Compiler Version 14.00.50727.42 

	TITLE	E:\SourcexStudio\Lenix\Lenix\src\startup.c
	.686P
	.XMM
	include listing.inc
	.model	flat

INCLUDELIB LIBCMT
INCLUDELIB OLDNAMES

PUBLIC	_Lenix_startup
EXTRN	_Cpu_hlt:PROC
EXTRN	_Lenix_start:PROC
EXTRN	_main:PROC
EXTRN	_Lenix_initial:PROC
; Function compile flags: /Ogtpy
; File e:\sourcexstudio\lenix\lenix\src\startup.c
;	COMDAT _Lenix_startup
_TEXT	SEGMENT
_Lenix_startup PROC					; COMDAT

; 32   :     /*
; 33   :      *  移植需要调整的地方。调整栈指针
; 34   :      */
; 35   : 
; 36   :     /*
; 37   :      *  32位X86的栈初始化
; 38   :      */
; 39   :     __asm mov esp,0xC0001000 - 8

  00000	bc f8 0f 00 c0	 mov	 esp, -1073737736	; c0000ff8H

; 40   :     /**/
; 41   : 
; 42   :     /*  正式开始Lenix的运行  */
; 43   :     Lenix_initial();

  00005	e8 00 00 00 00	 call	 _Lenix_initial

; 44   :     main(0,NULL,NULL);

  0000a	6a 00		 push	 0
  0000c	6a 00		 push	 0
  0000e	6a 00		 push	 0
  00010	e8 00 00 00 00	 call	 _main
  00015	83 c4 0c	 add	 esp, 12			; 0000000cH

; 45   :     Lenix_start();

  00018	e8 00 00 00 00	 call	 _Lenix_start
  0001d	8d 49 00	 npad	 3
$LL2@Lenix_star:

; 46   :     /*  进入大循环  */
; 47   :     for(;;)
; 48   :         Cpu_hlt();

  00020	e8 00 00 00 00	 call	 _Cpu_hlt
  00025	eb f9		 jmp	 SHORT $LL2@Lenix_star
_Lenix_startup ENDP
_TEXT	ENDS
END
